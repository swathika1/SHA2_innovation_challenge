{% extends 'base.html' %}

{% block title %}Patient Dashboard - Home Rehab Coach{% endblock %}

{% block header %}
<header class="header">
    <h1>üè† Home Rehab Coach</h1>
    <nav class="nav-links">
        <a href="{{ url_for('patient_dashboard') }}">Dashboard</a>
        <a href="{{ url_for('progress_history') }}">Progress</a>
        <a href="{{ url_for('landing') }}">Logout</a>
    </nav>
</header>
{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h2>Welcome back, Patient!</h2>
    <span>Today: February 7, 2026</span>
</div>

<!-- Stats Row -->
<div class="stats-row">
    <div class="stat-box">
        <div class="stat-value">87%</div>
        <div class="stat-label">Adherence Rate</div>
    </div>
    <div class="stat-box">
        <div class="stat-value">üî• 12</div>
        <div class="stat-label">Day Streak</div>
    </div>
    <div class="stat-box">
        <div class="stat-value">78</div>
        <div class="stat-label">Avg. Quality Score</div>
    </div>
    <div class="stat-box">
        <div class="stat-value">3/4</div>
        <div class="stat-label">Sessions This Week</div>
    </div>
</div>

<!-- Primary CTA -->
<div class="card" style="text-align: center; padding: 40px;">
    <h3 style="margin-bottom: 20px;">Today's Session</h3>
    <p style="color: #666; margin-bottom: 20px;">Knee Rehabilitation - Set 4 of 5</p>
    <a href="{{ url_for('rehab_session') }}" class="btn btn-primary btn-large">‚ñ∂ Start Today's Session</a>
</div>

<div class="grid grid-2">
    <!-- Calendar Widget -->
    <div class="calendar-widget">
        <div class="calendar-header">
            <button class="btn">‚Üê Prev</button>
            <h3>February 2026</h3>
            <button class="btn">Next ‚Üí</button>
        </div>
        <div class="calendar-grid">
            <div class="calendar-day">Su</div>
            <div class="calendar-day">Mo</div>
            <div class="calendar-day">Tu</div>
            <div class="calendar-day">We</div>
            <div class="calendar-day">Th</div>
            <div class="calendar-day">Fr</div>
            <div class="calendar-day">Sa</div>
            
            <div class="calendar-day">1</div>
            <div class="calendar-day completed">2</div>
            <div class="calendar-day completed">3</div>
            <div class="calendar-day completed">4</div>
            <div class="calendar-day missed">5</div>
            <div class="calendar-day completed">6</div>
            <div class="calendar-day today upcoming">7</div>
            
            <div class="calendar-day upcoming">8</div>
            <div class="calendar-day upcoming">9</div>
            <div class="calendar-day upcoming">10</div>
            <div class="calendar-day upcoming">11</div>
            <div class="calendar-day upcoming">12</div>
            <div class="calendar-day upcoming">13</div>
            <div class="calendar-day">14</div>
        </div>
        <div style="margin-top: 15px; font-size: 0.85rem;">
            <span style="display: inline-block; margin-right: 15px;">
                <span style="background: #d4edda; padding: 2px 8px; border-radius: 3px;">‚ñ†</span> Completed
            </span>
            <span style="display: inline-block; margin-right: 15px;">
                <span style="background: #f8d7da; padding: 2px 8px; border-radius: 3px;">‚ñ†</span> Missed
            </span>
            <span style="display: inline-block;">
                <span style="background: #fff3cd; padding: 2px 8px; border-radius: 3px;">‚ñ†</span> Upcoming
            </span>
        </div>
    </div>
    
    <!-- Weekly Progress Summary -->
    <div class="card">
        <div class="card-header">Weekly Quality Score Trend</div>
        <div class="chart-placeholder">
            <div class="bars">
                <div class="bar" style="height: 60%;"></div>
                <div class="bar" style="height: 75%;"></div>
                <div class="bar" style="height: 70%;"></div>
                <div class="bar" style="height: 85%;"></div>
                <div class="bar" style="height: 80%;"></div>
                <div class="bar" style="height: 90%;"></div>
                <div class="bar" style="height: 78%;"></div>
            </div>
        </div>
        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; color: #666;">
            <span>Mon</span>
            <span>Tue</span>
            <span>Wed</span>
            <span>Thu</span>
            <span>Fri</span>
            <span>Sat</span>
            <span>Sun</span>
        </div>
    </div>
</div>

<!-- Upcoming Sessions -->
<div class="card" style="margin-top: 20px;">
    <div class="card-header">Upcoming Sessions</div>
    <div style="display: flex; flex-direction: column; gap: 10px;">
        <div style="display: flex; justify-content: space-between; padding: 10px; background: #f5f5f5; border-radius: 4px;">
            <span><strong>Knee Extension</strong> - 3 sets √ó 10 reps</span>
            <span>Today, 2:00 PM</span>
        </div>
        <div style="display: flex; justify-content: space-between; padding: 10px; background: #f5f5f5; border-radius: 4px;">
            <span><strong>Hip Flexor Stretch</strong> - 2 sets √ó 30 sec</span>
            <span>Tomorrow, 10:00 AM</span>
        </div>
        <div style="display: flex; justify-content: space-between; padding: 10px; background: #f5f5f5; border-radius: 4px;">
            <span><strong>Quad Strengthening</strong> - 3 sets √ó 12 reps</span>
            <span>Feb 9, 2:00 PM</span>
        </div>
    </div>
</div>
{% endblock %}